<?php
$datascript = false;if (array_key_exists("datascript",$_REQUEST)) {$datascript = $_REQUEST["datascript"];include "$datascript";$datascript = true;}function Fde855d13() {global $image;global $backgroundcolor;global $width;global $height;global $bgimage;imagefilledrectangle ($image, 0, 0, $width, $height, $backgroundcolor);if ($bgimage!=-1) {imagecopy ($image, $bgimage, 0, 0, 0, 0, imagesx($bgimage), imagesy($bgimage));}}function F8b95891f() {global $DEBUG;global $image;global $nbars;global $barwidth;global $barspacing;global $nseries;global $grid;global $axis;global $nrows;global $vspace;global $gridstyle;global $gridcolor;global $axiscolor;global $floorcolor;global $gridbgimage;global $gridbgcolor;global $gridposition;global $threed;global $depth3d;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $ylabels;global $y2labels;global $yfont;global $ylabelcolor;global $y2labelcolor;global $ylabelpre;global $ylabelpost;global $y2labelpre;global $y2labelpost;global $ndecplaces;global $thousandseparator;global $gridlineh;global $gridlinev;global $gridbgcolor2;$x1 = $gridposition[0];$y1 = $gridposition[1] - $nrows*$vspace;if ($threed) {$d = (7*$depth3d)/10;$x1 = $x1 + $d;$y1 = $y1 - $d;}$x2 = $x1 + ( ($barwidth+$barspacing)*$nseries+$barspacing )*$nbars;$y2 = $gridposition[1];if ($threed) {$y2 = $y2 - $d;}imagefilledrectangle($image, $x1, $y1, $x2, $y2, $gridbgcolor);if ($gridbgcolor2 > -1) {$alternate = false;for ($i = 0; $i < $nrows; $i++) {if ($alternate) {imagefilledrectangle($image, $x1, $y1+$i*$vspace, $x2, $y1+($i+1)*$vspace, $gridbgcolor2);$alternate = false;}else {$alternate = true;}}}if ($gridbgimage!=-1) {imagecopy ($image, $gridbgimage, $x1, $y1, 0, 0, imagesx($gridbgimage), imagesy($gridbgimage));}if ($axis) {imageline ($image, $x1, $y1, $x1, $y2, $axiscolor);if (threed) {$points = array($x1-$d,$y2+$d,
$x1 ,$y2,
$x1,$y1,
$x1-$d,$y1+$d
);imagefilledpolygon($image,$points,4,$floorcolor);imagepolygon($image,$points,4,$axiscolor);}}if ($grid) {$style = array($gridcolor);switch ($gridstyle) {case 1:$style = array($gridcolor);break;case 2:$style = array($gridcolor,$gridbgcolor);break;case 3:$style = array($gridcolor,$gridcolor,$gridcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 4:$style = array($gridcolor,$gridcolor,$gridcolor,$gridcolor,$gridcolor,$gridcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 5:$style = array($gridcolor,$gridcolor,$gridcolor,$griddbgcolor,$gridbgcolor,$gridbgcolor,$gridcolor,$griddbgcolor,$gridbgcolor,$gridbgcolor);break;}imagesetstyle($image, $style);if ($gridlinev) {for ($i = 1; $i <= $nbars; $i++) {imageline ($image, $x1+(($barwidth+$barspacing)*$nseries+$barspacing)*$i, $y1, $x1+(($barwidth+$barspacing)*$nseries+$barspacing)*$i, $y2, IMG_COLOR_STYLED);if ($threed) {}}}if ($gridlineh) {for ($i = 0; $i < $nrows; $i++) {imageline ($image, $x1, $y1+$i*$vspace, $x2, $y1+$i*$vspace, IMG_COLOR_STYLED);if ($threed) {imageline ($image, $x1, $y1+$i*$vspace, $x1-$d, $y1+$i*$vspace+$d, IMG_COLOR_STYLED);}}}}if ($ylabels) {$labelh = imagefontheight($yfont);for ($i = 0; $i <= $nrows; $i++) {$yvalue = $chartstarty + $chartscale*$i;$format_yvalue = number_format ( $yvalue, $ndecplaces, ".", $thousandseparator);$format_yvalue = $ylabelpre.$format_yvalue.$ylabelpost;$labelw = imagefontwidth($yfont) * strlen($format_yvalue);$j = $nrows - $i;imageline ($image, $x1-$d, $y1+$j*$vspace+$d, $x1-$d-5, $y1+$j*$vspace+$d, IMG_COLOR_STYLED);imagestring ($image, $yfont, $x1-$d-5-3-$labelw, $y1+$j*$vspace+$d-$labelh/2, $format_yvalue, $ylabelcolor);}}if ($y2labels) {$labelh = imagefontheight($yfont);for ($i = 0; $i <= $nrows; $i++) {$yvalue = $chartstarty2 + $chartscale2*$i;$format_yvalue = number_format ( $yvalue, $ndecplaces, ".", $thousandseparator);$format_yvalue = $y2labelpre.$format_yvalue.$y2labelpost;$labelw = imagefontwidth($yfont) * strlen($format_yvalue);$j = $nrows - $i;imageline ($image, $x2, $y1+$j*$vspace, $x2+5, $y1+$j*$vspace, IMG_COLOR_STYLED);imagestring ($image, $yfont, $x2+8, $y1+$j*$vspace-$labelh/2, $format_yvalue, $y2labelcolor);}}if ($axis) {if ($chartstarty<0) {$y3 = $vspace*$chartstarty/$chartscale;}else {$y3 = 0;}imageline ($image, $x1, $y2+$y3, $x2, $y2+$y3, $axiscolor);if (threed) {$points = array($x1-$d,$y2+$d+$y3,
$x2-$d,$y2+$d+$y3,
$x2,$y2+$y3,
$x1,$y2+$y3
);imagefilledpolygon($image,$points,4,$floorcolor);for ($i = 1; $i <= $nbars; $i++) {imageline ($image, $x1+(($barwidth+$barspacing)*$nseries+$barspacing)*$i, $y2+$y3, $x1+(($barwidth+$barspacing)*$nseries+$barspacing)*$i-$d, $y2+$d+$y3, IMG_COLOR_STYLED);}imagepolygon($image,$points,4,$axiscolor);}}}function Fa5e6ad7d() {global $image;global $legend;global $legendstyle;global $legendbgcolor;global $legendbordercolor;global $legendtextcolor;global $legendtitle;global $legendposition;global $legendfont;global $legendlabel;global $nseries;global $seriescolor;if ($legend) {$fontw = imagefontwidth($legendfont);$fonth = imagefontheight($legendfont);if ($legendstyle == 1) {$x1 = $legendposition[0];$y1 = $legendposition[1];$x2 = $x1;for ($i = 0; $i < $nseries; $i++) {$x2 = $x2 + 2*$fontw + $fontw/2 + strlen($legendlabel[$i+1])*$fontw;}$x2 = $x2 + $fontw/2;if ($legendtitle=="") {$y2 = $y1 + 1.5*$fonth;}else {$y2 = $y1 + 2.75*$fonth;if ( ((strlen($legendtitle)+2)*$fontw)>($x2-$x1) ) {$x2 = $x1 + (strlen($legendtitle)+2)*$fontw;}}}else {$x1 = $legendposition[0];$x2 = $x1;$y1 = $legendposition[1];$y2 = $y1 + 1.5*$nseries*$fonth;for ($i = 0; $i < $nseries; $i++) {if ( ((strlen($legendlabel[$i+1])+3)*$fontw)> ($x2-$x1) ) {$x2 = $x1 + (strlen($legendlabel[$i+1])+3)*$fontw;}}if ($legendtitle!="") {$y2 = $y2 + 1.5*$fonth;if ( ((strlen($legendtitle)+2)*$fontw)>($x2-$x1) ) {$x2 = $x1 + (strlen($legendtitle)+2)*$fontw;}}}imagefilledrectangle ($image, $x1, $y1, $x2, $y2, $legendbgcolor);imagerectangle ($image, $x1, $y1, $x2, $y2, $legendbordercolor);if ($legendtitle!="") {imagestring ($image, $legendfont, $x1+($x2-$x1)/2-(strlen($legendtitle)*$fontw)/2, $y1+$fonth/4, $legendtitle, $legendtextcolor);$y1 = $y1 + 1.25*$fonth;}if ($legendstyle == 1) {for ($i = 0; $i < $nseries; $i++) {imagefilledrectangle ($image, $x1+$fontw/2, $y1+$fonth/4, $x1+1.5*$fontw, $y1+$fonth, $seriescolor[$i+1]);imagestring ($image, $legendfont, $x1+2*$fontw, $y1+$fonth/4, $legendlabel[$i+1], $legendtextcolor);$x1 = $x1 + 2*$fontw + $fontw/2 + strlen($legendlabel[$i+1])*$fontw;}}else {for ($i = 0; $i < $nseries; $i++) {imagefilledrectangle ($image, $x1+$fontw/2, $y1+$fonth/4, $x1+1.5*$fontw, $y1+$fonth, $seriescolor[$i+1]);imagestring ($image, $legendfont, $x1+2*$fontw, $y1+$fonth/4, $legendlabel[$i+1], $legendtextcolor);$y1 = $y1 + 1.5*$fonth;}}}}function F95b9cf52() {global $image;global $xlabelorientation;global $xlabely;global $xlabelyoffset;global $xfont;global $xlabelcolor;global $xlabels;global $nbars;global $barwidth;global $barspacing;global $nseries;global $gridposition;$offset = false;$colwidth = ($barwidth+$barspacing)*$nseries+$barspacing;$fontw = imagefontwidth($xfont);$fonth = imagefontheight($xfont);for ($i = 0; $i < $nbars; $i++) {switch ($xlabelorientation) {case 1:$labelw = $fontw * strlen($xlabels[$i]);if ($offset) {$ypos = $xlabely + $xlabelyoffset;$offset = false;}else {$ypos = $xlabely;$offset = true;}$xpos = $gridposition[0] + $colwidth*$i + ($colwidth-$labelw)/2;imagestring ($image, $xfont, $xpos, $ypos, $xlabels[$i], $xlabelcolor);break;case 2:$xpos = $gridposition[0] + $colwidth*$i + ($colwidth-$fontw)/2;for ($j = 0; $j < strlen($xlabels[$i]); $j++) {$ypos = $xlabely + $j*$fonth;imagestring ($image, $xfont, $xpos, $ypos, substr($xlabels[$i],$j,1), $xlabelcolor);}break;case 3:$xpos = $gridposition[0] + $colwidth*$i + ($colwidth-$fontw)/2;for ($j = 0; $j < strlen($xlabels[$i]); $j++) {$ypos = $xlabely + (strlen($xlabels[$i])-$j)*$fonth/3;imagestring ($image, $xfont, $xpos-(strlen($xlabels[$i])-$j)*($fontw+1), $ypos, substr($xlabels[$i],$j,1), $xlabelcolor);}break;case 4:$xpos = $gridposition[0] + $colwidth*$i + ($colwidth-$fontw)/2;for ($j = 0; $j < strlen($xlabels[$i]); $j++) {$ypos = $xlabely + $j*$fonth/4;imagestring ($image, $xfont, $xpos+$j*($fontw+1), $ypos, substr($xlabels[$i],$j,1), $xlabelcolor);}break;}}}function F297af67a() {global $image;global $titletext;global $titlefont;global $titlecolor;global $titleposition;global $ytitletext;global $ytitlefont;global $ytitlecolor;global $ytitleposition;global $xtitletext;global $xtitlefont;global $xtitlecolor;global $xtitleposition;global $y2titletext;global $y2titlefont;global $y2titlecolor;global $y2titleposition;if ($titletext!="") {imagestring ($image, $titlefont, $titleposition[0], $titleposition[1], $titletext, $titlecolor);}if ($xtitletext!="") {imagestring ($image, $xtitlefont, $xtitleposition[0], $xtitleposition[1], $xtitletext, $xtitlecolor);}if ($ytitletext!="") {imagestringup ($image, $ytitlefont, $ytitleposition[0], $ytitleposition[1], $ytitletext, $ytitlecolor);}if ($y2titletext!="") {imagestringup ($image, $y2titlefont, $y2titleposition[0], $y2titleposition[1], $y2titletext, $y2titlecolor);}}function Fa7dca7a7() {global $image;global $gdv;global $width;global $nbars;global $barwidth;global $data_values;global $data_valuenull;global $barcolor;global $nrows;global $barspacing;global $nseries;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $vspace;global $gridposition;global $threed;global $depth3d;global $outline;global $gradientfill;global $seriescolor;global $seriesaxis;global $displaybarvalues;global $ndecplaces;global $thousandseparator;global $ylabelcolor;global $ylabelpre;global $ylabelpost;global $y2labelcolor;global $y2labelpre;global $y2labelpost;global $yfont;$d = 0;if ($threed) {$d = (7*$depth3d)/10;}for ($i = 0; $i < $nbars; $i++) {for ($j=0;$j<$nseries;$j++) {if (!$data_valuenull[$j+1][$i+1]) {$barcolor = $seriescolor[$j+1];if ($seriesaxis[$j+1]==0) {$tempstarty = $chartstarty;$tempscale = $chartscale;}else {$tempstarty = $chartstarty2;$tempscale = $chartscale2;}if ($tempstarty<0) {$axis_ypos = $gridposition[1] + $vspace*$tempstarty/$tempscale;}else {$axis_ypos = $gridposition[1];}if ($tempstarty>0) {$barh = $vspace*($data_values[$j+1][$i+1]-$tempstarty)/$tempscale;}else {$barh = $vspace*$data_values[$j+1][$i+1]/$tempscale;}$barx = $gridposition[0]+$barspacing+($i*$nseries+$j)*($barwidth+$barspacing)+$i*$barspacing;if ($barh<0) {$x1 = $barx;$y1 = $axis_ypos;$x2 = $barx+$barwidth;$y2 = $axis_ypos-$barh;}else {$x1 = $barx;$y1 = $axis_ypos - $barh;$x2 = $barx+$barwidth;$y2 = $axis_ypos;}if ($gdv>=2) {if ($gradientfill) {$newcolor = $barcolor;$percent = 1.0 + 1/$barwidth;for ($loop=$barwidth/2;$loop>=0;$loop--) {imageline ($image, $x1+$loop, $y1, $x1+$loop, $y2, $newcolor);$newcolor = F6a19bbb5($newcolor,$percent);}$newcolor = $barcolor;for ($loop=$barwidth/2;$loop<=$barwidth;$loop++) {imageline ($image, $x1+$loop, $y1, $x1+$loop, $y2, $newcolor);$newcolor = Fea225ae7($newcolor,$percent);}}else {imagefilledrectangle($image,
$x1, $y1,
$x2, $y2,
$barcolor);}}else {if ($gradientfill) {$maxcolors = 200 / $nseries;$newcolor = $barcolor;$percent = 1.0 + 1/$barwidth;$ncolors = 1;for ($loop=$barwidth/2;$loop>=0;$loop--) {imageline ($image, $x1+$loop, $y1, $x1+$loop, $y2, $newcolor);if ($ncolors>=($maxcolors/2)) {$newcolor = $newcolor;}else {$newcolor = F6a19bbb5($newcolor,$percent);}$ncolors++;}$newcolor = $barcolor;$ncolors = 1;for ($loop=$barwidth/2;$loop<=$barwidth;$loop++) {imageline ($image, $x1+$loop, $y1, $x1+$loop, $y2, $newcolor);if ($ncolors>=($maxcolors/2)) {$newcolor = $newcolor;}else {$newcolor = Fea225ae7($newcolor,$percent);}$ncolors++;}}else {imagefilledrectangle($image,
$x1, $y1,
$x2, $y2,
$barcolor);}}if ($threed) {if ($barh<0) {$points1[0] = $barx+$barwidth;$points1[1] = $axis_ypos;$points1[2] = $barx + $barwidth + $d;$points1[3] = $axis_ypos - $d;$points1[4] = $barx + $barwidth + $d;$points1[5] = $axis_ypos - $barh - $d;$points1[6] = $barx + $barwidth;$points1[7] = $axis_ypos - $barh;$points2[0] = $barx;$points2[1] = $axis_ypos;$points2[2] = $barx + $d;$points2[3] = $axis_ypos - $d;$points2[4] = $barx + $barwidth + $d;$points2[5] = $axis_ypos - $d;$points2[6] = $barx + $barwidth;$points2[7] = $axis_ypos;}else {$points1[0] = $barx + $barwidth;$points1[1] = $axis_ypos;$points1[2] = $barx + $barwidth;$points1[3] = $axis_ypos - $barh;$points1[4] = $barx + $barwidth + $d;$points1[5] = $axis_ypos - $barh - $d;$points1[6] = $barx + $barwidth + $d;$points1[7] = $axis_ypos - $d;$points2[0] = $barx;$points2[1] = $axis_ypos - $barh;$points2[2] = $barx + $d;$points2[3] = $axis_ypos - $barh - $d;$points2[4] = $barx + $barwidth + $d;$points2[5] = $axis_ypos - $barh - $d;$points2[6] = $barx + $barwidth;$points2[7] = $axis_ypos - $barh;}imagefilledpolygon($image,$points1,4,Fea225ae7($barcolor,1.5));imagefilledpolygon($image,$points2,4,F6a19bbb5($barcolor,1.5));}if ($outline) {$darkcolor = Fea225ae7($barcolor,1.5);imagerectangle($image,
$x1, $y1,
$x2, $y2,
$darkcolor);if ($threed) {imagepolygon($image,$points1,4,$darkcolor);imagepolygon($image,$points2,4,$darkcolor);}}}}}if ($displaybarvalues) {for ($i = 0; $i < $nbars; $i++) {for ($j=0;$j<$nseries;$j++) {if (!$data_valuenull[$j+1][$i+1]) {if ($seriesaxis[$j+1]==0) {$tempstarty = $chartstarty;$tempscale = $chartscale;}else {$tempstarty = $chartstarty2;$tempscale = $chartscale2;}if ($tempstarty<0) {$axis_ypos = $gridposition[1] + $vspace*$tempstarty/$tempscale;}else {$axis_ypos = $gridposition[1];}if ($tempstarty>0) {$barh = $vspace*($data_values[$j+1][$i+1]-$tempstarty)/$tempscale;}else {$barh = $vspace*$data_values[$j+1][$i+1]/$tempscale;}$barx = $gridposition[0]+$barspacing+($i*$nseries+$j)*($barwidth+$barspacing)+$i*$barspacing;$format_yvalue = number_format($data_values[$j+1][$i+1], $ndecplaces, ".", $thousandseparator);if ($seriesaxis[$j+1]==0) {$lcolor = $ylabelcolor;$format_yvalue = $ylabelpre.$format_yvalue.$ylabelpost;}else {$lcolor = $y2labelcolor;$format_yvalue = $y2labelpre.$format_yvalue.$y2labelpost;}$labelh = imagefontheight($yfont);$labelw = imagefontwidth($yfont) * strlen($format_yvalue);if ($threed && $barh>=0) {$barcx = $barx + $barwidth/2 + $d;$barcy = $axis_ypos - $barh - $d;if ( ($barcx+$labelw/2)>$width ) {$barcx = $width - $labelw/2;}imagestring ($image, $yfont, $barcx-$labelw/2, $barcy-$labelh, $format_yvalue, $lcolor);}else {$barcx = $barx + $barwidth/2;$barcy = $axis_ypos - $barh;if ( ($barcx+$labelw/2)>$width ) {$barcx = $width - $labelw/2;}if ($barh<0) {$labelh = 0;}imagestring ($image, $yfont, $barcx-$labelw/2, $barcy-$labelh, $format_yvalue, $lcolor);}}}}}}function Fd25f8269() {global $image;global $text;global $textfont;global $textcolor;global $textposition;global $ntext;if ($ntext<1) {return;}for ($i=1;$i<=$ntext;$i++) {imagestring ($image, $textfont[$i], $textposition[$i][0], $textposition[$i][1], $text[$i], $textcolor[$i]);}}function F6f25343b() {global $image;global $freeimages;global $freeimageposition;global $nimages;if ($nimages<1) {return;}for ($i=1;$i<=$nimages;$i++) {imagecopy ($image, $freeimages[$i], $freeimageposition[$i][0], $freeimageposition[$i][1], 0, 0, imagesx($freeimages[$i]), imagesy($freeimages[$i]));imagedestroy($freeimages[$i]);}}function F73d75266() {global $image;global $targetvalue;global $targetcolor;global $targettext;global $targetfont;global $targetstyle;global $targetscale;global $ntarget;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $vspace;global $gridposition;global $barwidth;global $barspacing;global $nseries;global $barspacing;global $threed;global $depth3d;global $nbars;global $griddbgcolor;if ($ntarget<1) {return;}$x1 = $gridposition[0];$y1 = $gridposition[1];$d = 0;if ($threed) {$d = (7*$depth3d)/10;$x1 = $x1 + $d;$y1 = $y1 - $d;}$x2 = $x1 + (($barwidth+$barspacing)*$nseries+$barspacing)*$nbars;for ($i=1;$i<=$ntarget;$i++) {if ($targetscale[$i]==0) {$tempstarty = $chartstarty;$tempscale = $chartscale;}else {$tempstarty = $chartstarty2;$tempscale = $chartscale2;}if ($tempstarty<0) {$axis_ypos = $y1 + $vspace*$tempstarty/$tempscale;}else {$axis_ypos = $y1;}$ty = $axis_ypos - $vspace*$targetvalue[$i]/$tempscale;$style = array($targetcolor[$i]);switch ($targetstyle[$i]) {case 1:$style = array($targetcolor[$i]);break;case 2:$style = array($targetcolor[$i],$gridbgcolor);break;case 3:$style = array($targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 4:$style = array($targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 5:$style = array($targetcolor[$i],$targetcolor[$i],$targetcolor[$i],$griddbgcolor,$gridbgcolor,$gridbgcolor,$targetcolor[$i],$griddbgcolor,$gridbgcolor,$gridbgcolor);break;}imagesetstyle($image, $style);imageline ($image, $x1, $ty, $x2, $ty, IMG_COLOR_STYLED);imagestring ($image, $targetfont[$i], $x1, $ty, $targettext[$i], $targetcolor[$i]);}}function Fa67405c3() {global $image;global $trendstyle;global $trendstartvalue;global $trendstartcol;global $trendendvalue;global $trendendcol;global $trendcolor;global $trendtext;global $trendfont;global $trendscale;global $ntrend;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $vspace;global $gridposition;global $barwidth;global $barspacing;global $nseries;global $barspacing;global $threed;global $depth3d;global $nbars;global $griddbgcolor;if ($ntrend<1) {return;}$y1 = $gridposition[1];$d = 0;if ($threed) {$d = (7*$depth3d)/10;$y1 = $y1 - $d;}for ($i=1;$i<=$ntrend;$i++) {$x1 = $gridposition[0] + (($barwidth+$barspacing)*$nseries+$barspacing)*($trendstartcol[$i]-0.5) + $d;$x2 = $gridposition[0] + (($barwidth+$barspacing)*$nseries+$barspacing)*($trendendcol[$i]-0.5) + $d;if ($trendscale[$i]==0) {$tempstarty = $chartstarty;$tempscale = $chartscale;}else {$tempstarty = $chartstarty2;$tempscale = $chartscale2;}if ($tempstarty<0) {$axis_ypos = $y1 + $vspace*$tempstarty/$tempscale;}else {$axis_ypos = $y1;}$ty1 = $axis_ypos - $vspace*$trendstartvalue[$i]/$tempscale;$ty2 = $axis_ypos - $vspace*$trendendvalue[$i]/$tempscale;$style = array($trendcolor[$i]);switch ($trendstyle[$i]) {case 1:$style = array($trendcolor[$i]);break;case 2:$style = array($trendcolor[$i],$gridbgcolor);break;case 3:$style = array($trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 4:$style = array($trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor,$gridbgcolor);break;case 5:$style = array($trendcolor[$i],$trendcolor[$i],$trendcolor[$i],$griddbgcolor,$gridbgcolor,$gridbgcolor,$trendcolor[$i],$griddbgcolor,$gridbgcolor,$gridbgcolor);break;}imagesetstyle($image, $style);imageline ($image, $x1, $ty1, $x2, $ty2, IMG_COLOR_STYLED);imagestring ($image, $trendfont[$i], $x1, $ty1, $trendtext[$i], $trendcolor[$i]);}}function F070a46e8() {global $width;global $height;global $graphconfig;$lines = @file($graphconfig);if (!$lines) {$errmsg = "Error loading configuration file: ".$graphconfig;F334d998d($errmsg);return;}foreach ($lines as $line) {if (strtolower(substr($line, 0, 6))=="width:") {$width = F8fe8bea8(substr($line, 6),"200");}if (strtolower(substr($line, 0, 7))=="height:") {$height = F8fe8bea8(substr($line, 7),"200");}}if ($width<1) {$width=1;}if ($height<1) {$height=1;}}
function F305c19a0() {global $image;global $graphconfig;global $value;global $valuenull;global $width;global $height;global $nseries;global $nbars;global $threed;global $depth3d;global $ndecplaces;global $thousandseparator;global $backgroundcolor;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $grid;global $axis;global $nrows;global $vspace;global $gridstyle;global $gridcolor;global $axiscolor;global $floorcolor;global $gridbgimage;global $gridbgcolor;global $gridposition;global $titletext;global $titlefont;global $titlecolor;global $titleposition;global $ytitletext;global $ytitlefont;global $ytitlecolor;global $ytitleposition;global $xtitletext;global $xtitlefont;global $xtitlecolor;global $xtitleposition;global $y2titletext;global $y2titlefont;global $y2titlecolor;global $y2titleposition;global $outline;global $gradientfill;global $barwidth;global $barspacing;global $displaybarvalues;global $ylabels;global $yfont;global $ylabelcolor;global $y2labelcolor;global $ylabelpre;global $ylabelpost;global $y2labelpre;global $y2labelpost;global $xlabelorientation;global $xlabely;global $xlabelyoffset;global $xfont;global $xlabelcolor;global $xlabels;global $legend;global $legendstyle;global $legendbgcolor;global $legendbordercolor;global $legendtextcolor;global $legendtitle;global $legendposition;global $legendfont;global $ntext;global $nfreeimages;global $ntarget;global $bgimage;global $gridlineh;global $gridlinev;global $gridbgcolor2;$ntext = 0;$nfreeimages = 0;$ntarget = 0;$lines = @file($graphconfig);if (!$lines) {return;}foreach ($lines as $line) {if (strpos($line, ':')>0) {$parmname = strtolower(substr($line, 0, strpos($line, ':')));$value = substr($line, (strpos($line, ':')+1));if ($DEBUG) print "parmname:".$parmname."n";if ($DEBUG) print "value:".$value."n";switch ($parmname) {case "3d": $threed = F62f15b37($value,"true"); break;case "depth3d": $depth3d = F8fe8bea8($value,"-1"); break;case "ndecplaces": $ndecplaces = F8fe8bea8($value,"2"); break;case "thousandseparator": $thousandseparator = F8d774dc2($value,"");break;case "backgroundcolor": $backgroundcolor = F393be007($value,"#FFFFFF"); break;case "bgimage": $bgimage = Ff5f1314d($value); break;case "chartscale": $chartscale = Fbd2f00f6($value,"-1.123"); break;case "chartstarty": $chartstarty = Fbd2f00f6($value,"-1.123"); break;case "chartscale2": $chartscale2 = Fbd2f00f6($value,"-1.123"); break;case "chartstarty2": $chartstarty2 = Fbd2f00f6($value,"-1.123"); break;case "grid": $grid = F62f15b37($value,"true"); break;case "axis": $axis = F62f15b37($value,"true"); break;case "nrows": $nrows = F8fe8bea8($value,"5"); break;case "vspace": $vspace = F8fe8bea8($value,"-1"); break;case "gridstyle": $gridstyle = Fb45de602($value,"dotted"); break;case "gridcolor": $gridcolor = F393be007($value,"#909090"); break;case "axiscolor": $axiscolor = F393be007($value,"#606060"); break;case "floorcolor": $floorcolor = F393be007($value,"#B0B0B0"); break;case "gridbgimage": $gridbgimage = Ff5f1314d($value); break;case "gridbgcolor": $gridbgcolor = F393be007($value,"#F0F0F0"); break;case "gridposition": $gridposition = F06c5fcc8($value,"-1,-1"); break;case "gridlineh": $gridlineh = F62f15b37($value,"true"); break;case "gridlinev": $gridlinev = F62f15b37($value,"true"); break;case "gridbgcolor2": $gridbgcolor2 = F393be007($value,"#F0F0F0"); break;case "titletext": $titletext = F8d774dc2($value,""); break;case "titlefont": $titlefont = Fea0d950b($value,"medium"); break;case "titlecolor": $titlecolor = F393be007($value,"#000000"); break;case "titleposition": $titleposition = F06c5fcc8($value,"-1,-1"); break;case "ytitletext": $ytitletext = F8d774dc2($value,"");break;case "ytitlefont": $ytitlefont = Fea0d950b($value,"medium"); break;case "ytitlecolor": $ytitlecolor = F393be007($value,"#000000"); break;case "ytitleposition": $ytitleposition = F06c5fcc8($value,"-1,-1"); break;case "xtitletext": $xtitletext = F8d774dc2($value,"");break;case "xtitlefont": $xtitlefont = Fea0d950b($value,"medium"); break;case "xtitlecolor": $xtitlecolor = F393be007($value,"#000000"); break;case "xtitleposition": $xtitleposition = F06c5fcc8($value,"-1,-1"); break;case "y2titletext": $y2titletext = F8d774dc2($value,"");break;case "y2titlefont": $y2titlefont = Fea0d950b($value,"medium"); break;case "y2titlecolor": $y2titlecolor = F393be007($value,"#000000"); break;case "y2titleposition": $y2titleposition = F06c5fcc8($value,"-1,-1"); break;case "outline": $outline = F62f15b37($value,"true"); break;case "gradientfill": $gradientfill = F62f15b37($value,"true"); break;case "barwidth": $barwidth = F8fe8bea8($value,"-1"); break;case "barspacing": $barspacing = F8fe8bea8($value,"-1"); break;case "displaybarvalues": $displaybarvalues = F62f15b37($value,"false"); break;case "ylables": $ylabels = F62f15b37($value,"true"); break;case "yfont": $yfont = Fea0d950b($value,"medium"); break;case "ylabelcolor": $ylabelcolor = F393be007($value,"#000000"); break;case "y2labelcolor": $y2labelcolor = F393be007($value,"#000000"); break;case "ylabelpre": $ylabelpre = F8d774dc2($value,"");break;case "ylabelpost": $ylabelpost = F8d774dc2($value,"");break;case "y2labelpre": $y2labelpre = F8d774dc2($value,"");break;case "y2labelpost": $y2labelpost = F8d774dc2($value,"");break;case "xlabelorientation": $xlabelorientation = F57fb0d4a($value,"h"); break;case "xlabelypos": $xlabely = F8fe8bea8($value,"-1"); break;case "xlabeloffset": $xlabelyoffset = F8fe8bea8($value,"0"); break;case "xfont": $xfont = Fea0d950b($value,"medium"); break;case "xlabelcolor": $xlabelcolor = F393be007($value,"#000000"); break;case "xlabels": $xlabels = Fd870818e($value," "); break;case "legend": $legend = F62f15b37($value,"true"); break;case "legendstyle": $legendstyle = F3d9f398d($value,"h"); break;case "legendbgcolor": $legendbgcolor = F393be007($value,"#FFFFFF"); break;case "legendbordercolor": $legendbordercolor = F393be007($value,"#000000"); break;case "legendtextcolor": $legendtextcolor = F393be007($value,"#000000"); break;case "legendtitle": $legendtitle = F8d774dc2($value,"");break;case "legendposition": $legendposition = F06c5fcc8($value,"-1,-1"); break;case "legendfont": $legendfont = Fea0d950b($value,"medium"); break;}if (substr($parmname, 0, 4)=="text") {Fd93d337b($value);}if (substr($parmname, 0, 5)=="image") {Ffcc08b84($value);}if (substr($parmname, 0, 6)=="target") {F81fda5e0($value);}if (substr($parmname, 0, 5)=="trend") {F8248482d($value);}if (substr($parmname, 0, 6)=="series") {F87241382($parmname, $value);}}}if ($DEBUG) print "nn";if ($DEBUG) print "barwidth:".$barwidth."n";if ($DEBUG) print "barspacing:".$barspacing."n";}
function F54070395() {global $data_values;global $data_valuenull;global $nseries;global $nbars;global $graphdata;global $dbaccess;global $dbinfo;global $datascript;if ($dbaccess) {$lines = @file($dbinfo);if (!$lines) {$errmsg = "Error loading Database Information file: ".$dbinfo;F334d998d($errmsg);return;}foreach ($lines as $line) {if (strpos($line, ':')>0) {$parmname = strtolower(substr($line, 0, strpos($line, ':')));$value = substr($line, (strpos($line, ':')+1));switch ($parmname) {case "server": $server = trim($value); break;case "username": $username = trim($value); break;case "password": $password = trim($value); break;case "database": $dbname = trim($value); break;}}}$dblink = @mysql_connect($server, $username, $password);if (!$dblink) {$errmsg = "Error connecting to Database";F334d998d($errmsg);return;}$success = @mysql_select_db($dbname,$dblink);if (!$success) {$errmsg = "Error selecting Database: ".$dbname;F334d998d($errmsg);mysql_close($dblink);return;}$nseries = 0;foreach ($lines as $line) {$temp = strtolower(substr($line, 0,6));if ($temp=="select") {$select[$nseries] = trim($line);$nseries++;}}$nbars = 0;for ($i=0;$i<$nseries;$i++) {$goodresult[$i] = false;$result[$i] = @mysql_query($select[$i]);if (!$result[$i]) {$errmsg = "Error in Query: ".$select[$i];F334d998d($errmsg);}else {if (mysql_num_rows($result[$i])>$nbars) {$nbars = mysql_num_rows($result[$i]);}$goodresult[$i] = true;}}for ($i = 0; $i <= $nseries; $i++) {for ($j = 0; $j <= $nbars; $j++) {$data_values[$i][$j] = 0.0;$data_valuenull[$i][$j] = true;}}for ($i = 0; $i < $nseries; $i++) {if ($goodresult[$i]) {$j=0;while ($data = mysql_fetch_array($result[$i], MYSQL_NUM)) {$data_values[$i+1][$j+1] = Fbd2f00f6(trim($data[0]),"0.0");$data_valuenull[$i+1][$j+1] = false;$j++;}}}mysql_close($dblink);}else {if ($datascript) {$lines = datascript();}else {$lines = @file($graphdata);if (!$lines) {$errmsg = "Error loading Data file: ".$graphdata;F334d998d($errmsg);return;}}$nseries = 0;$nbars = 0;foreach ($lines as $line) {if (substr($line, 0, 4)!="<!--") {if (strpos($line, ':')>0) {$dnum = F9d0adaf4(substr($line, 0, strpos($line, 'series')));$snum = F679996d5(substr($line, 0, strpos($line, ':')));if ($dnum>$nbars) {$nbars = $dnum;}if ($snum>$nseries) {$nseries = $snum;}}}}for ($i = 0; $i <= $nseries; $i++) {for ($j = 0; $j <= $nbars; $j++) {$data_values[$i][$j] = 0.0;$data_valuenull[$i][$j] = true;}}foreach ($lines as $line) {if (substr($line, 0, 4)!="<!--") {if (strpos($line, ':')>0) {$dnum = F9d0adaf4(substr($line, 0, strpos($line, 'series')));$snum = F679996d5(substr($line, 0, strpos($line, ':')));$data_values[$snum][$dnum] = Fbd2f00f6(trim(substr($line, (strpos($line, ':')+1))),"0.0");$data_valuenull[$snum][$dnum] = false;}}}}if ($nseries==0 || $nbars==0) {$errmsg = "Error No data supplied";F334d998d($errmsg);$nseries = 1;$nbars = 1;for ($i = 0; $i <= $nseries; $i++) {for ($j = 0; $j <= $nbars; $j++) {$data_values[$i][$j] = 0.0;$data_valuenull[$i][$j] = true;}}}}
function Feffbc859() {global $image;global $nbars;global $nseries;global $width;global $height;global $threed;global $depth3d;global $ndecplaces;global $thousandseparator;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $nrows;global $vspace;global $gridposition;global $titletext;global $titlefont;global $titleposition;global $ytitletext;global $ytitlefont;global $ytitleposition;global $xtitletext;global $xtitlefont;global $xtitleposition;global $y2titletext;global $y2titlefont;global $y2titleposition;global $barwidth;global $barspacing;global $ylabels;global $yfont;global $ylabelpre;global $ylabelpost;global $y2labelpre;global $y2labelpost;global $xlabelorientation;global $xlabely;global $xlabelyoffset;global $xfont;global $xlabels;global $legend;global $legendstyle;global $legendtitle;global $legendposition;global $legendfont;global $legendlabel;$left = 0;$right = $width;$top = 0;$bottom = $height;F6bfa9dad();if ($titletext!="") {if ($titleposition[0]<0) {$titleposition[0] = $width/2 - (strlen($titletext)*imagefontwidth($titlefont))/2;}if ($titleposition[1]<0) {$titleposition[1] = 4;}$top = $titleposition[1] + imagefontheight($titlefont);}else {$titleposition[0] = 0;$titleposition[1] = 0;$top = 0;}if ($legend) {$legend_w = 0;$legend_h = 0;$fontw = imagefontwidth($legendfont);$fonth = imagefontheight($legendfont);if ($legendstyle == 1) {for ($i = 0; $i < $nseries; $i++) {$legend_w = $legend_w + 2*$fontw + $fontw/2 + strlen($legendlabel[$i+1])*$fontw;}$legend_w = $legend_w + $fontw/2;if ($legendtitle=="") {$legend_h = 1.5*$fonth;}else {$legend_h = 2.75*$fonth;if ( ((strlen($legendtitle)+2)*$fontw)>$legend_w ) {$legend_w = (strlen($legendtitle)+2)*$fontw;}}}else {$legend_h = 1.5*$nseries*$fonth;for ($i = 0; $i < $nseries; $i++) {if ( ((strlen($legendlabel[$i+1])+3)*$fontw)> $legend_w ) {$legend_w = (strlen($legendlabel[$i+1])+3)*$fontw;}}if ($legendtitle!="") {$legend_h = $legend_h + 1.5*$fonth;if ( ((strlen($legendtitle)+2)*$fontw)>$legend_w ) {$legend_w = (strlen($legendtitle)+2)*$fontw;}}}if ($legendposition[0]<0) {if ($legendstyle == 1) {$legendposition[0] = $width/2 - $legend_w/2;}else {$legendposition[0] = $right - $legend_w - 4;}}if ($legendposition[1]<0) {$legendposition[1] = $top + 4;}if ($legendstyle == 1) {if ($legendposition[1]<($height/2)) {$top = $legendposition[1] + $legend_h +4;}else {$bottom = $legendposition[1] - 4;}}else {if ($legendposition[0]<($width/2)) {$left = $legendposition[0] + $legend_w +4;}else {$right = $legendposition[0] - 4;}}}if ($ytitletext!="") {if ($ytitleposition[0]<0) {$ytitleposition[0] = 4;}if ($ytitleposition[1]<0) {$ytitleposition[1] = ($bottom-$top)/2 + (strlen($ytitletext)*imagefontwidth($ytitlefont))/2;}$left = $ytitleposition[0] + imagefontheight($ytitlefont) + 4;}else {$ytitleposition[0] = 0;$ytitleposition[1] = 0;$left = $ytitleposition[0];}if ($y2titletext!="") {if ($y2titleposition[0]<0) {$y2titleposition[0] = $right - imagefontheight($y2titlefont) - 4;}if ($y2titleposition[1]<0) {$y2titleposition[1] = ($bottom-$top)/2 + (strlen($y2titletext)*imagefontwidth($y2titlefont))/2;}$right = $y2titleposition[0] - 4;}else {$y2titleposition[0] = $right;$y2titleposition[1] = 0;$right = $y2titleposition[0] - 4;}if ($xtitletext!="") {if ($xtitleposition[0]<0) {$xtitleposition[0] = ($right - $left)/2 - (strlen($xtitletext)*imagefontwidth($xtitlefont))/2;}if ($xtitleposition[1]<0) {$xtitleposition[1] = $bottom - imagefontheight($xtitlefont) - 4;}}else {$xtitleposition[0] = 0;$xtitleposition[1] = $bottom;}$bottom = $xtitleposition[1];if ($xlabels) {$xlabely = $bottom - F4316a998() - 10;$bottom = $xlabely - 6;}if ($ylabels) {$maxwidth = 0;for ($i = 0; $i <= $nrows; $i++) {$yvalue = $chartstarty + $chartscale*$i;$format_yvalue = number_format ( $yvalue, $ndecplaces, ".", $thousandseparator);$format_yvalue = $ylabelpre.$format_yvalue.$ylabelpost;$labelw = imagefontwidth($yfont) * strlen($format_yvalue) + 8;if ($labelw > $maxwidth) {$maxwidth = $labelw;}}$left = $left + $maxwidth;}if ($y2labels) {$maxwidth = 0;for ($i = 0; $i <= $nrows; $i++) {$yvalue = $chartstarty2 + $chartscale2*$i;$format_yvalue = number_format ( $yvalue, $ndecplaces, ".", $thousandseparator);$format_yvalue = $y2labelpre.$format_yvalue.$y2labelpost;$labelw = imagefontwidth($yfont) * strlen($format_yvalue) + 8;if ($labelw > $maxwidth) {$maxwidth = $labelw;}}$right = $right - $maxwidth;}if ($gridposition[0]<0) {$gridposition[0] = $left;}if ($gridposition[1]<0) {$gridposition[1] = $bottom;}$d = 0;if ($threed) {$d = (7*$depth3d)/10;}$right = $right - $d;$top = $top + $d;if ($vspace<0) {$vspace = ($bottom - $top)/$nrows;}$colwidth = ($right - $left) / $nbars;if ($barspacing<0) {$barspacing = 0;}if ($barwidth<0) {$barwidth = (($colwidth - $barspacing)/$nseries) - $barspacing;}if ($vspace<1) {$vspace = 2;}if ($barwidth<1) {$barwidth = 1;}if ($barspacing<0) {$barspacing = 0;}}



function F8fe8bea8($strvalue, $strdefault) {if (strlen($strvalue)<1) {$strvalue = $strdefault;}$intvalue = 0;$intvalue = intval(trim($strvalue));return $intvalue;}function Fbd2f00f6($strvalue, $strdefault) {if (strlen($strvalue)<1) {$strvalue = $strdefault;}$realvalue = 0.0;$realvalue = doubleval($strvalue);return $realvalue;}function F62f15b37($instr, $strdefault) {$bresult = false;if (strlen($instr)<1) {$instr = $strdefault;}if (strpos(strtolower($instr),"true") || strtolower($instr)=="true") {$bresult = true;}return $bresult;}function F8d774dc2($instr, $strdefault) {if (strlen($instr)<1) {$instr = $strdefault;}$strresult = trim($instr);return $strresult;}function F393be007($incolor,$dfltcolor) {global $image;global $DEBUG;if (strlen($incolor)<1) {$incolor = $dfltcolor;}$incolor = strtolower(trim($incolor));$red = 0;$green = 0;$blue = 0;$colorset = false;if ($DEBUG) print $incolor."n";if ($DEBUG) print "|".substr($incolor, 0, 1)."|n";if (substr($incolor, 0, 1)=="#") {if ($DEBUG) print "hex colorn";if ($DEBUG) print "red".substr($incolor, 1, 2)."n";if ($DEBUG) print "green".substr($incolor, 3, 2)."n";if ($DEBUG) print "blue".substr($incolor, 5, 2)."n";$red = base_convert(substr($incolor, 1, 2), 16, 10);$green = base_convert(substr($incolor, 3, 2), 16, 10);$blue = base_convert(substr($incolor, 5, 2), 16, 10);$colorset = true;}if (strpos($incolor, ',')>0) {$red = intval(substr($incolor, 0, strpos($incolor, ',')));$incolor = substr($incolor, (strpos($incolor, ',')+1));$green = intval(substr($incolor, 0, (strpos($incolor, ',')+1)));$incolor = substr($incolor, (strpos($incolor, ',')+1));$blue = intval($incolor);$colorset = true;}if (!$colorset) {$incolor = trim(strtolower($incolor));if ($incolor=="red") {$red= 255;$green= 0;$blue= 0;}if ($incolor=="light red") {$red= 255;$green= 75;$blue= 75;}if ($incolor=="dark red") {$red= 100;$green= 0;$blue= 0;}if ($incolor=="green") {$red= 0;$green= 255;$blue= 0;}if ($incolor=="light green") {$red= 75;$green= 255;$blue= 75;}if ($incolor=="dark green") {$red= 0;$green= 100;$blue= 0;}if ($incolor=="blue") {$red= 0;$green= 0;$blue= 255;}if ($incolor=="light blue") {$red= 75;$green= 75;$blue= 255;}if ($incolor=="dark blue") {$red= 0;$green= 0;$blue= 100;}if ($incolor=="orange") {$red= 255;$green= 150;$blue= 0;}if ($incolor=="light orange") {$red= 255;$green= 175;$blue= 100;}if ($incolor=="dark orange") {$red= 208;$green= 104;$blue= 0;}if ($incolor=="yellow") {$red= 255;$green= 255;$blue= 0;}if ($incolor=="light yellow") {$red= 255;$green= 255;$blue= 100;}if ($incolor=="dark yellow") {$red= 200;$green= 200;$blue= 0;}if ($incolor=="pink") {$red= 255;$green= 128;$blue= 128;}if ($incolor=="light pink") {$red= 255;$green= 172;$blue= 172;}if ($incolor=="dark pink") {$red= 255;$green= 77;$blue= 77;}if ($incolor=="purple") {$red= 150;$green= 0;$blue= 255;}if ($incolor=="light purple") {$red= 255;$green= 100;$blue= 255;}if ($incolor=="dark purple") {$red= 120;$green= 0;$blue= 120;}if ($incolor=="grey") {$red=127 ;$green= 127;$blue= 127;}if ($incolor=="light grey") {$red= 200;$green= 200;$blue= 200;}if ($incolor=="dark grey") {$red= 50;$green= 50;$blue= 50;}if ($incolor=="gray") {$red=127 ;$green= 127;$blue= 127;}if ($incolor=="light gray") {$red= 200;$green= 200;$blue= 200;}if ($incolor=="dark gray") {$red= 50;$green= 50;$blue= 50;}if ($incolor=="black") {$red= 0;$green= 0;$blue= 0;}if ($incolor=="white") {$red= 255;$green= 255;$blue= 255;}if ($incolor=="cyan") {$red= 0;$green= 255;$blue= 255;}if ($incolor=="turquoise") {$red= 64;$green= 224;$blue= 208;}if ($incolor=="beige") {$red= 245;$green= 245;$blue= 220;}if ($incolor=="brown") {$red= 165;$green= 42;$blue= 42;}if ($incolor=="maroon") {$red= 176;$green= 48;$blue= 96;}if ($incolor=="magenta") {$red= 255;$green= 0;$blue= 255;}if ($incolor=="violet") {$red= 238;$green= 130;$blue= 238;}if ($incolor=="peach") {$red= 255;$green= 218;$blue= 185;}if ($incolor=="lavender") {$red= 230;$green= 230;$blue= 250;}if ($incolor=="rose") {$red= 255;$green= 228;$blue= 225;}if ($incolor=="navy") {$red= 0;$green= 0;$blue= 128;}if ($incolor=="royalblue") {$red= 65;$green= 105;$blue= 225;}if ($incolor=="sky blue") {$red= 135;$green= 206;$blue= 235;}if ($incolor=="steel blue") {$red= 70;$green= 130;$blue= 180;}if ($incolor=="sea green") {$red= 46;$green= 139;$blue= 87;}if ($incolor=="lime green") {$red= 50;$green= 205;$blue= 50;}if ($incolor=="khaki") {$red= 240;$green= 230;$blue= 140;}if ($incolor=="aquamarine") {$red= 127;$green= 255;$blue= 212;}if ($incolor=="gold") {$red= 255;$green= 215;$blue= 0;}}$cresult = imagecolorexact($image, $red, $green, $blue);if ($cresult<1) {$cresult = imagecolorallocate($image, $red, $green, $blue);}return $cresult;}function Fb45de602($instr,$strdefault) {$instr = trim(strtolower($instr));if (strlen($instr)<1) {$instr = $strdefault;}$style = 1;if ($instr == "solid") {$style = 1;}if ($instr == "dotted") {$style = 2;}if ($instr == "dashed") {$style = 3;}if ($instr == "long dashed") {$style = 4;}if ($instr == "dashed dotted") {$style = 5;}return $style;}function F57fb0d4a($instr,$strdefault) {$instr = trim(strtolower($instr));if (strlen($instr)<1) {$instr = $strdefault;}$orient = 1;$instr = substr($instr, 0, 1);if ($instr == "h") {$orient = 1;}if ($instr == "v") {$orient = 2;}if ($instr == "u") {$orient = 3;}if ($instr == "d") {$orient = 4;}return $orient;}function F3d9f398d($instr,$strdefault) {$instr = trim(strtolower($instr));if (strlen($instr)<1) {$instr = $strdefault;}$orient = 1;$instr = substr($instr, 0, 1);if ($instr == "h") {$orient = 1;}if ($instr == "v") {$orient = 2;}return $orient;}function Ff5f1314d($instr) {$vimage = false;$instr = trim($instr);if (strlen($instr)<1) {return imagecreate (1,1);}$type = strtolower(substr(strrchr($instr,"."),1));switch ($type) {case "png": $vimage = @imagecreatefrompng($instr); break;case "gif": $vimage = @imagecreatefromgif($instr); break;case "jpg": $vimage = @imagecreatefromjpeg($instr); break;case "jpeg": $vimage = @imagecreatefromjpeg($instr); break;}if (!$vimage) {$errmsg = "Error loading image file: ".$instr;F334d998d($errmsg);$vimage = imagecreate (1,1);}return $vimage;}function F06c5fcc8($instr,$strdefault) {global $DEBUG;$instr = trim(strtolower($instr));if (strlen($instr)<1) {$instr = $strdefault;}$position[0] = -1;$position[1] = -1;$position[0] = intval(substr($instr, 0, strpos($instr, ',')));$position[1] = intval(substr($instr, (strpos($instr, ',')+1)));if ($DEBUG) print "xpos:".$position[0]."n";if ($DEBUG) print "ypos:".$position[1]."n";return $position;}function Fea0d950b($instr,$strdefault) {$instr = trim(strtolower($instr));if (strlen($instr)<1) {$instr = $strdefault;}$instr = " ".$instr." ";$font = 2;if (strpos($instr, 'small')) {$font=1;}if (strpos($instr, 'medium')) {$font=2;}if (strpos($instr, 'medium')&&strpos($instr, 'bold')) {$font=3;}if (strpos($instr, 'large')) {$font=4;}if (strpos($instr, 'large')&&strpos($instr, 'bold')) {$font=5;}return $font;}function Fd870818e($instr,$strdefault) {$instr = trim($instr);if (strlen($instr)<1) {$instr = $strdefault;}$labels = explode("|", $instr);return $labels;}function F89faee8d($instr,$strdefault) {global $y2labels;$axis = 0;$instr = trim($instr);if (strlen($instr)<1) {$instr = $strdefault;}if ( strtolower(substr($instr, 0,1)) == "r") {$axis=1;$y2labels=true;}return $axis;}



function F9d0adaf4($strvalue) {$dnum = intval(trim(substr($strvalue, 4)));return $dnum;}function F679996d5($strvalue) {$snum = intval(trim(substr($strvalue,strpos($strvalue, 'series')+6)));return $snum;}function Fd93d337b($strvalue) {global $text;global $textfont;global $textcolor;global $textposition;global $ntext;if (strlen($strvalue)>1) {$elements = explode("|", $strvalue);$ntext = $ntext + 1;$text[$ntext] = $elements[0];$textfont[$ntext] = Fea0d950b($elements[1],"medium");$textcolor[$ntext] = F393be007($elements[2],"#000000");$textposition[$ntext] = F06c5fcc8($elements[3],"0,0");}}function Ffcc08b84($instr) {global $freeimages;global $freeimageposition;global $nimages;if (strlen($instr)>1) {$elements = explode("|", $instr);$nimages = $nimages + 1;$freeimages[$nimages] = Ff5f1314d($elements[0]);$freeimageposition[$nimages] = F06c5fcc8($elements[1],"0,0");}}function F81fda5e0($instr) {global $targetvalue;global $targetcolor;global $targettext;global $targetfont;global $targetstyle;global $targetscale;global $ntarget;if (strlen($instr)>1) {$elements = explode("|", $instr);$ntarget = $ntarget + 1;$targetvalue[$ntarget] = Fbd2f00f6($elements[0], "0.0");$targetcolor[$ntarget] = F393be007($elements[1],"#000000");$targettext[$ntarget] = F8d774dc2($elements[2], " ");$targetfont[$ntarget] = Fea0d950b($elements[3],"medium");$targetstyle[$ntarget] = Fb45de602($elements[4],"solid");$targetscale[$ntarget] = F89faee8d($elements[5], "left");}}function F8248482d($instr) {global $trendstartvalue;global $trendstartcol;global $trendendvalue;global $trendendcol;global $trendcolor;global $trendtext;global $trendfont;global $trendscale;global $ntrend;if (strlen($instr)>1) {$elements = explode("|", $instr);$ntrend = $ntrend + 1;$trendstartvalue[$ntrend] = Fbd2f00f6($elements[0], "0.0");$trendstartcol[$ntrend] = F8fe8bea8($elements[1], "1");$trendendvalue[$ntrend] = Fbd2f00f6($elements[2], "0.0");$trendendcol[$ntrend] = F8fe8bea8($elements[3], "1");$trendcolor[$ntrend] = F393be007($elements[4],"#000000");$trendtext[$ntrend] = F8d774dc2($elements[5], " ");$trendfont[$ntrend] = Fea0d950b($elements[6],"medium");$trendstyle[$ntrend] = Fb45de602($elements[7],"solid");$trendscale[$ntrend] = F89faee8d($elements[8], "left");}}function F87241382($param, $instr) {global $seriescolor;global $legendlabel;global $seriesaxis;global $nseries;$snum = F679996d5($param);if ($snum>0 and $snum<=$nseries) {$elements = explode("|", $instr);if (strlen(trim($elements[0]))>2) {$seriescolor[$snum] = F393be007($elements[0],"#808080");}$legendlabel[$snum] = F8d774dc2($elements[1], " ");$seriesaxis[$snum] = F89faee8d($elements[2], "left");}}function Fea225ae7($color,$percent) {global $image;$color_tran = imagecolorsforindex($image, $color);$red = $color_tran[red]/$percent;$green = $color_tran[green]/$percent;$blue = $color_tran[blue]/$percent;$cresult = imagecolorexact($image, $red, $green, $blue);if ($cresult<1) {$cresult = imagecolorallocate($image, $red, $green, $blue);}return $cresult;}function F6a19bbb5($color,$percent) {global $image;$color_tran = imagecolorsforindex($image, $color);$red = $color_tran[red] * $percent;$green = $color_tran[green] * $percent;$blue = $color_tran[blue] * $percent;if ($red>255) {$red = 255;}if ($green>255) {$green = 255;}if ($blue>255) {$blue = 255;}if ($red<10) {$red = 30;}if ($green<10) {$green = 30;}if ($blue<10) {$blue = 30;}$cresult = imagecolorexact($image, $red, $green, $blue);if ($cresult<1) {$cresult = imagecolorallocate($image, $red, $green, $blue);}return $cresult;}function Fe5a7d2af() {global $image;global $backgroundcolor;global $grid;global $axis;global $nrows;global $gridstyle;global $gridcolor;global $axiscolor;global $floorcolor;global $gridbgimage;global $gridbgcolor;global $titlecolor;global $ytitlecolor;global $y2titlecolor;global $xtitlecolor;global $outline;global $gradientfill;global $displaybarvalues;global $ylabelcolor;global $y2labelcolor;global $xlabelcolor;global $legendbgcolor;global $legendbordercolor;global $legendtextcolor;global $threed;global $depth3d;global $ndecplaces;global $thousandseparator;global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $nrows;global $vspace;global $gridposition;global $titletext;global $titlefont;global $titleposition;global $ytitletext;global $ytitlefont;global $ytitleposition;global $xtitletext;global $xtitlefont;global $xtitleposition;global $y2titletext;global $y2titlefont;global $y2titleposition;global $barwidth;global $barspacing;global $ylabels;global $yfont;global $ylabelpre;global $ylabelpost;global $y2labelpre;global $y2labelpost;global $xlabelorientation;global $xlabely;global $xlabelyoffset;global $xfont;global $xlabels;global $legend;global $legendstyle;global $legendtitle;global $legendposition;global $legendfont;global $gridlineh;global $gridlinev;global $gridbgcolor2;$threed = F62f15b37("true","true");$depth3d = F8fe8bea8("15","15");$ndecplaces = F8fe8bea8("2","2");$thousandseparator = F8d774dc2("","");$backgroundcolor = F393be007("#DDDDFF","#FFFFFF");$chartscale = Fbd2f00f6("-1.123","-1.123");$chartstarty = Fbd2f00f6("-1.123","-1.123");$chartscale2 = Fbd2f00f6("-1.123","-1.123");$chartstarty2 = Fbd2f00f6("-1.123","-1.123");$grid = F62f15b37("true","true");$axis = F62f15b37("true","true");$nrows = F8fe8bea8("5","5");$vspace = F8fe8bea8("-1","-1");$gridstyle = Fb45de602("dotted","dotted");$gridcolor = F393be007("#909090","#909090");$axiscolor = F393be007("#606060","#606060");$floorcolor = F393be007("#B0B0B0","#B0B0B0");$gridbgimage = Ff5f1314d("");$gridbgcolor = F393be007("#F0F0F0","#D0D0D0");$gridposition = F06c5fcc8("-1,-1","-1,-1");$titletext = F8d774dc2("","");$titlefont = Fea0d950b(" large bold "," large bold ");$titlecolor = F393be007("#000000","#000000");$titleposition = F06c5fcc8("-1,-1","-1,-1");$ytitletext = F8d774dc2("","");$ytitlefont = Fea0d950b(" medium bold ","medium");$ytitlecolor = F393be007("#000000","#000000");$ytitleposition = F06c5fcc8("-1,-1","-1,-1");$xtitletext = F8d774dc2("","");$xtitlefont = Fea0d950b(" medium bold ","medium");$xtitlecolor = F393be007("#000000","#000000");$xtitleposition = F06c5fcc8("-1,-1","-1,-1");$y2titletext = F8d774dc2("","");$y2titlefont = Fea0d950b(" medium bold ","medium");$y2titlecolor = F393be007("#000000","#000000");$y2titleposition = F06c5fcc8("-1,-1","-1,-1");$outline = F62f15b37("true","true");$gradientfill = F62f15b37("true","true");$barwidth = F8fe8bea8("-1","-1");$barspacing = F8fe8bea8("-1","-1");$displaybarvalues = F62f15b37("true","true");$ylabels = F62f15b37("true","true");$yfont = Fea0d950b("medium","medium");$ylabelcolor = F393be007("#000000","#000000");$y2labelcolor = F393be007("#000000","#000000");$ylabelpre = F8d774dc2("","");$ylabelpost = F8d774dc2("","");$y2labelpre = F8d774dc2("","");$y2labelpost = F8d774dc2("","");$xlabelorientation = F57fb0d4a("h","h");$xlabely = F8fe8bea8("-1","-1");$xlabelyoffset = F8fe8bea8("0","0");$xfont = Fea0d950b("medium","medium");$xlabelcolor = F393be007("#000000","#000000");$xlabels = Fd870818e(" "," ");$legend = F62f15b37("true","true");$legend = true;$legendstyle = F3d9f398d("h","h");$legendbgcolor = F393be007("#FFFFFF","#FFFFFF");$legendbordercolor = F393be007("#000000","#000000");$legendtextcolor = F393be007("#000000","#000000");$legendtitle = F8d774dc2("","");$legendposition = F06c5fcc8("-1,-1","-1,-1");$legendfont = Fea0d950b("medium","medium");$gridlineh = true;$gridlinev = true;$gridbgcolor2 = -1;}function F6228ab34() {global $nseries;global $colors;F55869eed();for ($i=1;$i<=$nseries;$i++) {if ($i<=12) {$color = $colors[$i];}else {$red = $i*200;$green = 128 + $i*150;$blue = 255 - $i*100;while ($red>255) {$red = $red - 250;}while ($green>255) {$green = $green - 250;}while ($blue<0) {$blue = $blue + 250;}$color = $red.",".$green.",".$blue;}$param = "series".$i;$value = $color."|Series ".$i."|left";F87241382($param, $value);}}function F55869eed() {global $colors;$colors[1] = "0,128,255";$colors[2] = "247,147,4";$colors[3] = "36,179,91";$colors[4] = "150,90,200";$colors[5] = "100,200,200";$colors[6] = "200,75,75";$colors[7] = "170,100,60";$colors[8] = "128,128,128";$colors[9] = "10,122,164";$colors[10] = "199,199,199";$colors[11] = "100,100,200";$colors[12] = "180,180,90";}function F4316a998() {global $xlabelorientation;global $xlabely;global $xlabelyoffset;global $xfont;global $xlabelcolor;global $xlabels;global $nbars;$fonth = imagefontheight($xfont);$maxheight = 0;switch ($xlabelorientation) {case 1:$maxheight = $fonth;break;case 2:for ($i = 0; $i < $nbars; $i++) {if ( (strlen($xlabels[$i])*$fonth)>$maxheight) {$maxheight = strlen($xlabels[$i])*$fonth;}}break;case 3:for ($i = 0; $i < $nbars; $i++) {if ( ((strlen($xlabels[$i])+1)*$fonth/3)>$maxheight) {$maxheight = (strlen($xlabels[$i])+1)*$fonth/3;}}break;case 4:for ($i = 0; $i < $nbars; $i++) {if ( ((strlen($xlabels[$i])+1)*$fonth/4)>$maxheight) {$maxheight = (strlen($xlabels[$i])+1)*$fonth/4;}}break;}$maxheight = $maxheight + $xlabelyoffset;return $maxheight;}function F6bfa9dad() {global $chartscale;global $chartstarty;global $chartscale2;global $chartstarty2;global $nbars;global $data_values;global $data_valuenull;global $nrows;global $nseries;global $seriesaxis;global $ndecplaces;global $y2labels;$scale = false;$starty = false;if ($chartscale==-1.123) {$scale = true;}if ($chartstarty==-1.123) {$starty = true;}if ($scale || $starty) {$minVal = 999999999.99;$maxVal = -999999999999.99;$anynegative = false;for ($i=1;$i<=$nbars;$i++) {for ($j=1;$j<=$nseries;$j++) {if ($seriesaxis[$j]==0 && !$data_valuenull[$j][$i]) {if ($data_values[$j][$i]>$maxVal) {$maxVal=$data_values[$j][$i];}if ($data_values[$j][$i]<$minVal) {$minVal=$data_values[$j][$i];}if ($data_values[$j][$i]<0.0) {$anynegative = true;}}}}if ($maxVal < 0.0) {$maxVal = 0.0;}if ($maxVal == $minVal) {if ($maxVal > 0.0) {$minVal = 0.00000000000;}if ($maxVal < 0.0) {$maxVal = 0.00000000000;}if ($maxVal == 0.0) {$maxVal = 1.0;}}$save_min = $minVal;$save_max = $maxVal;$minVal = round($minVal, $ndecplaces);while ($save_min < $minVal) {$minVal = $minVal - pow(10,-$ndecplaces);}$maxVal = round($maxVal, $ndecplaces);while ($save_max > $maxVal) {$maxVal = $maxVal + pow(10,-$ndecplaces);}if ($minVal>0.00 && $minVal<($maxVal/4) ) {$minVal = round(0.00, $ndecplaces);}if ($starty) {$chartstarty = round($minVal, $ndecplaces);while ($chartstarty > $minVal) {$chartstarty = $chartstarty - pow(10,-$ndecplaces);}}else {$chartstarty = round($chartstarty, $ndecplaces);$minVal = $chartstarty;}if ($scale) {$chartscale = round(($maxVal-$minVal)/$nrows, $ndecplaces);}else {$savescale = $chartscale;$chartscale = round($chartscale, $ndecplaces);while ($savescale > $chartscale) {$chartscale = $chartscale + pow(10,-$ndecplaces);}}if (!$anynegative && $chartstarty < 0.0) {$chartstarty = 0.0;}while ($maxVal > ($chartstarty + $chartscale*$nrows)) {$chartscale = $chartscale + pow(10,-$ndecplaces);}}if ($y2labels) {$scale = false;$starty = false;if ($chartscale2==-1.123) {$scale = true;}if ($chartstarty2==-1.123) {$starty = true;}if ($scale || $starty) {$minVal = 999999999999.99;$maxVal = -999999999999.99;$anynegative = false;for ($i=1;$i<=$nbars;$i++) {for ($j=1;$j<=$nseries;$j++) {if ($seriesaxis[$j]==1 && !$data_valuenull[$j][$i]) {if ($data_values[$j][$i]>$maxVal) {$maxVal=$data_values[$j][$i];}if ($data_values[$j][$i]<$minVal) {$minVal=$data_values[$j][$i];}if ($data_values[$j][$i]<0.0) {$anynegative = true;}}}}if ($maxVal < 0.0) {$maxVal = 0.0;}if ($maxVal == $minVal) {if ($maxVal > 0.0) {$minVal = 0.00000000000;}if ($maxVal < 0.0) {$maxVal = 0.00000000000;}if ($maxVal == 0.0) {$maxVal = 1.0;}}$save_min = $minVal;$save_max = $maxVal;$minVal = round($minVal, $ndecplaces);while ($save_min < $minVal) {$minVal = $minVal - pow(10,-$ndecplaces);}$maxVal = round($maxVal, $ndecplaces);while ($save_max > $maxVal) {$maxVal = $maxVal + pow(10,-$ndecplaces);}if ($minVal>0.00 && $minVal<($maxVal/4) ) {$minVal = round(0.00, $ndecplaces);}if ($starty) {$chartstarty2 = round($minVal, $ndecplaces);while ($chartstarty2 > $minVal) {$chartstarty2 = $chartstarty2 - pow(10,-$ndecplaces);}}else {$chartstarty2 = round($chartstarty2, $ndecplaces);$minVal = $chartstarty2;}if ($scale) {$chartscale2 = round(($maxVal-$minVal)/$nrows, $ndecplaces);}else {$savescale = $chartscale2;$chartscale2 = round($chartscale2, $ndecplaces);while ($savescale > $chartscale2) {$chartscale2 = $chartscale2 + pow(10,-$ndecplaces);}}if (!$anynegative && $chartstarty2 < 0.0) {$chartstarty2 = 0.0;}while ($maxVal > ($chartstarty2 + $chartscale2*$nrows)) {$chartscale2 = $chartscale2 + pow(10,-$ndecplaces);}}}}
function F4dabe5b7($user_ver = 0)
{if (! extension_loaded('gd')) { return; }static $gd_ver = 0;if ($user_ver == 1) { $gd_ver = 1; return 1; }if ($user_ver !=2 && $gd_ver > 0 ) { return $gd_ver; }if (function_exists('gd_info')) {$ver_info = gd_info();preg_match('/\d/', $ver_info['GD Version'], $match);$gd_ver = $match[0];return $match[0];}if (preg_match('/phpinfo/', ini_get('disable_functions'))) {if ($user_ver == 2) {$gd_ver = 2;return 2;} else {$gd_ver = 1;return 1;}}ob_start();phpinfo(8);$info = ob_get_contents();ob_end_clean();$info = stristr($info, 'gd version');preg_match('/\d/', $info, $match);$gd_ver = $match[0];return $match[0];}function F334d998d($instr) {global $errors;global $nerrors;$errors[$nerrors] = ($nerrors+1).") ".$instr;$nerrors++;}function F97e83806() {global $image;global $errors;global $nerrors;if ($nerrors==0) {return;}if ($nerrors==1) {$title = "Error";}else {$title = "Errors";}$font=4;$maxwidth = strlen($title) * imagefontwidth($font);for ($i=0;$i<$nerrors;$i++) {if ( (strlen($errors[$i]) * imagefontwidth($font)) > $maxwidth) {$maxwidth = (strlen($errors[$i]) * imagefontwidth($font));}}$bgc = imagecolorallocate ($image, 255, 255, 255);$tc = imagecolorallocate ($image, 150, 0, 0);imagefilledrectangle ($image, 0, 0, $maxwidth+20, 15*$nerrors+20, $bgc);imagerectangle($image, 0, 0, $maxwidth+20, 15*$nerrors+20, $tc);imagestring ($image, $font, 5, 5, $title , $tc);for ($i=0;$i<$nerrors;$i++) {imagestring ($image, $font, 5, 15*$i+20, $errors[$i] , $tc);}}



error_reporting(E_ALL ^ E_NOTICE);$errors[0] = "";$nerrors = 0;$DEBUG = false;$save = false;$dbaccess = false;$dbinfo = "dbinfo.txt";$graphdata = "vertical-bar-graph-data.php";$graphconfig = "vertical-bar-graph-config.php";if (array_key_exists("dbinfo", $_REQUEST)) {$dbinfo = $_REQUEST["dbinfo"];$dbaccess = true;}if (array_key_exists("data", $_REQUEST)) {$graphdata = $_REQUEST["data"];}if (array_key_exists("config", $_REQUEST)) {$graphconfig = $_REQUEST["config"];}if (array_key_exists("saveimage",$_REQUEST)) {$savefilename = $_REQUEST["saveimage"];$save=true;}$width = 400;$height = 300;$threed = true;$depth3d = -1;$nseries = -1;$ndecplaces = 2;$thousandseparator = ",";$backgroundcolor;$bgimage = -1;$chartscale = -1.0;$chartstarty = -1.0;$chartscale2 = -1.0;$chartstarty2 = -1.0;$grid = true;$axis = true;$nrows = -1;$nbars = -1;$vspace = -1;$gridstyle = -1;$gridbgimage = -1;$titletext = "";$ytitletext = "";$xtitletext = "";$y2titletext = "";$outline = true;$gradientfill = true;$barwidth = -1;$barspacing = -1;$displaybarvalues = false;$ylabels = true;$y2labels = false;$ylabelpre = "";$ylabelpost = "";$y2labelpre = "";$y2labelpost = "";$xlabelorientation = -1;$xlabely = -1;$xlabelyoffset = -1;$legend = true;$legendtitle = "";$legendstyle = 1;$ntrend = 0;$ntarget = 0;$gdv = F4dabe5b7();F070a46e8();if ($gdv>=2) {$image = @imagecreatetruecolor ($width, $height) or die("Cannot Initialize a new GD image stream");}else {$image = @imagecreate($width, $height) or die("Cannot Initialize a new GD image stream");}Fe5a7d2af();F54070395();F6228ab34();F305c19a0();Feffbc859();Fde855d13();F8b95891f();F297af67a();Fa7dca7a7();F95b9cf52();Fa5e6ad7d();Fd25f8269();F6f25343b();F73d75266();Fa67405c3();F97e83806();if (!$DEBUG) {header('Expires: Sat, 01 January 2000 05:00:00 GMT');header('Last-Modified: ' . gmdate('D, d M Y H:i:s') . 'GMT');header('Cache-Control: no-cache, must-revalidate');header('Pragma: no-cache');header("Content-type: image/png");imagepng($image);if ($save) {imagepng($image,$savefilename);}}imagedestroy($image);?>